
<div style="background: rgb(131, 216, 241);" th:if="${THONG_BAO_OK}" th:text="${THONG_BAO_OK}">
</div>

<div class="container-fluid pt-4 px-4" style="padding-bottom: 50px;">
    <a role="button" class="primary" th:href="@{/admin/sanpham/them}">Thêm Mới</a>
    <div class="bg-light text-center rounded p-4">
        <div class="d-flex align-items-center justify-content-between mb-4">
            <h2 class="mb-0">Danh Sách Sản Phẩm</h2>
        </div>
        <div class="table-responsive">  

            <table class="table text-dark text-start align-middle table-bordered table-hover" th:object="${dl}">
                <thead>
                    <tr style="background-color: rgb(207, 216, 219);">
                        <th scope="col">Ảnh Sản Phẩm</th>
                        <th scope="col">Tên Sản Phẩm</th>
                        <th scope="col">Tên Nhà Sản Xuất</th>
                        <th scope="col">Tên Danh Mục</th>
                        <th scope="col">Đơn Giá</th>
                        <th scope="col">Trạng Thái</th>
                        <th scope="col">Bán Chạy</th>
                        <th scope="col">Nổi Bật</th>
                        <th scope="col">Action</th>
                    </tr>
                </thead>

                <tbody>
                    <tr th:each="dl, dlStat : ${ds}" th:style="${dlStat.index % 2 == 0} ? 'background-color: #f8f9fa;' : 'background-color:rgb(207, 216, 219);'">
                        <td style="width: 10%; text-align: center;">
                            <img style="height: 70px; width: 70px;" th:src="${dl.anhSanPham}">
                        </td>
                        <td th:text="${dl.tenSanPham}"></td>
                        <td th:text="${dl.nsx.tenNhaSanXuat}"></td>
                        <td th:text="${dl.dm.tenDanhMuc}"></td>
<<<<<<< HEAD
                        <td><span id="formattedNumber" class="formatted-number" th:text="${dl.donGia}"></span></td>
=======
                        <td th:text="${dl.donGia}"></td>
>>>>>>> 4190f12894e89afedae1742272adcaee23e6eb7e
                        <td>
                            <span th:if="${dl.trangThai}">Còn Hàng</span>
                            <span th:unless="${dl.trangThai}">Hết Hàng</span>
                        </td>
                        <td style="width: 5%; text-align: center;">
                            <span th:if="${dl.banChay}">&#10004;</span>
                        </td>
                        <td style="width: 5%; text-align: center;">
                            <span th:if="${dl.noiBat}">&#10004;</span>
                        </td>
                        <td>
                            <a th:href="@{/admin/sanpham/xem/{id}(id=${dl.Id})}"><i class="fas fa-eye"></i></a> |
                            <a th:href="@{/admin/sanpham/sua(id=${dl.Id})}"><i class="fas fa-edit"></i></a> |
                            <a th:href="@{/admin/sanpham/xoa(id=${dl.Id})}"><i class="fas fa-trash-alt"></i></a>
                        </td>
                    </tr>
                    
                </tbody>	
            </table>
        </div>
    </div>
</div>
<script th:inline="javascript">
    // Lặp qua mỗi phần tử có class "formatted-number"
    var formattedNumberElements = document.getElementsByClassName('formatted-number');
    for (var i = 0; i < formattedNumberElements.length; i++) {
        var formattedNumberText = formattedNumberElements[i].textContent;
        // Kiểm tra nếu giá trị là một số hợp lệ
        if (!isNaN(formattedNumberText)) {
            // Chuyển đổi giá trị thành số và định dạng lại
            var formattedNumber = parseFloat(formattedNumberText).toLocaleString('vi-VN');
            // Thay thế nội dung của phần tử bằng giá trị đã định dạng
            formattedNumberElements[i].textContent = formattedNumber + 'đ';
        }
    }
</script>